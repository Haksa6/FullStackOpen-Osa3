{"version":3,"sources":["components/Filter.js","components/Persons.js","components/PersonForm.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","filter","handleFilterChange","value","onChange","Persons","persons","handleRemovePerson","person","name","toLowerCase","includes","map","number","onClick","id","PersonForm","addName","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Notification","message","className","App","useState","setPersons","setNewName","setNewNumber","setFilter","errorMessage","setErrorMessage","useEffect","personService","event","console","log","target","preventDefault","noteObject","length","window","confirm","updatePerson","find","catch","error","concat","setTimeout","returnedName","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d06cef68.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({filter, handleFilterChange}) => {\n  return(\n    <form>\n      <div>filter shown with \n        <input \n          value = {filter} onChange = {handleFilterChange}>\n        </input>\n      </div>\n    </form>\n  )\n}\n\nexport default Filter","import React from 'react'\n\nconst Persons = ({persons, filter, handleRemovePerson}) => {\n  return(\n    persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase())).map(person =>(\n      <div key = {person.id}>\n      {person.name} {person.number}<button onClick={ () =>handleRemovePerson(person.name, person.id)}>delete</button>                   \n      </div>\n      ))\n  )\n}\n\nexport default Persons","import React from 'react'\n\nconst PersonForm = ({addName, newName, handleNameChange, newNumber, handleNumberChange}) => {\n  return(\n    <form onSubmit = {addName}>\n      <div>name: <input value = {newName} onChange = {handleNameChange}/></div>\n      <div>number: <input value = {newNumber} onChange = {handleNumberChange}/></div>\n      <div><button type=\"submit\">add</button></div>\n    </form>\n  )\n}\n\nexport default PersonForm","import axios from 'axios'\nconst baseUrl = 'api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then(response => response.data);\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then(response => response.data);\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then(response => response.data);\n}\n\nconst remove = id => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then(response => response.data);\n}\n\nexport default { \n  getAll, create, update, remove\n}","import React from 'react'\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  if(message.includes('Del' || 'Infor' || 'Fail')){\n    return(\n      <div className =\"deleted\">\n        {message}\n      </div>\n    )\n  }\n  return (\n    <div className=\"added\">\n      {message}\n    </div>\n  )\n}\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filter, setFilter ] = useState('')\n  const [ errorMessage, setErrorMessage ] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response=> {\n        setPersons(response)\n      })\n  }, [])\n  \n  const addName = (event) => {\n    event.preventDefault()\n    const noteObject = {\n      name: newName,\n      number: newNumber,\n    }\n    if(persons.filter(name => name.name === noteObject.name).length > 0){\n      if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)){\n        const updatePerson = persons.find(person => person.name === newName)\n        personService\n          .update(updatePerson.id, {...updatePerson, number: newNumber})\n          .then(updatePerson=> {\n            setPersons(persons.map(person=>(person.name === newName ? updatePerson : person)))\n          })\n          .catch(error=> {\n            setErrorMessage(`Failed to update ${newName}`)\n          })\n          setPersons(persons.concat(noteObject))\n          setNewName('')\n          setNewNumber('')\n          setErrorMessage(`Updated ${newName}`)\n          setTimeout(()=>{\n            setErrorMessage(null)\n          }, 5000)\n      }\n    }else{\n      personService\n      .create(noteObject)\n        .then(returnedName => {\n        setPersons(persons.concat(returnedName))\n        setNewName('')\n        setNewNumber('')\n        setErrorMessage(`Added ${newName}`)\n    })\n      .catch(error =>{\n        setErrorMessage(`${error.response.data.error}`)\n        console.log(error.response.data)\n      })\n      setTimeout(()=>{\n        setErrorMessage(null)\n      }, 5000)\n    }\n  }\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n  const handleFilterChange = (event) =>{\n    console.log(event.target.value)\n    setFilter(event.target.value)\n  }\n  const handleRemovePerson = (name, id) =>{\n    if(window.confirm(`Delete ${name} ?`)){\n        personService\n        .remove(id)\n          .then(() =>{\n            setPersons(persons.filter(person => person.id !== id))\n            setNewName('')\n            setNewNumber('')\n            setErrorMessage(`Deleted ${name}`)\n          })\n          .catch(error => {\n            setPersons(persons.filter(person=> person.name !== name))\n            setErrorMessage(`Information of ${name} has already been removed from server`)\n          })\n            setTimeout(() =>{\n              setErrorMessage(null)\n            }, 5000)\n      }\n}\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n        <Notification message = {errorMessage}/>\n        <Filter filter = {filter} handleFilterChange = {handleFilterChange}/>\n      <h3>add a new</h3>\n        <PersonForm addName = {addName} newName = {newName} handleNameChange = {handleNameChange}\n        newNumber = {newNumber} handleNumberChange =  {handleNumberChange}/>\n      <h3>Numbers</h3>\n        <Persons persons = {persons} filter = {filter} handleRemovePerson = {handleRemovePerson} />\n    </div>\n  )\n\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}